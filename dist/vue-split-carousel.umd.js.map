{"version":3,"file":"vue-split-carousel.umd.js","sources":["../src/components/SplitCarousel.vue","../src/components/SplitCarouselItem.vue","../src/bundle-entry.ts"],"sourcesContent":["<script lang=\"ts\">\nimport type { ComputedRef } from 'vue-demi'\nimport {\n  computed,\n  defineComponent,\n  nextTick,\n  onMounted,\n  onUnmounted,\n  provide,\n  reactive,\n  ref,\n  toRefs,\n  watch,\n} from 'vue-demi'\nimport type {\n  CarouselItem,\n  CarouselLayout,\n  CarouselReset,\n  ComponentUid,\n  InjectCarouselScope,\n} from './carousel'\n\nexport default defineComponent({\n  name: 'SplitCarousel',\n  props: {\n    autoplay: {\n      type: Boolean,\n      default: true,\n    },\n    speed: {\n      type: Number,\n      default: 500,\n    },\n    interval: {\n      type: Number,\n      default: 3000,\n    },\n    loop: {\n      type: Boolean,\n      default: true,\n    },\n    displayAmount: {\n      type: Number,\n      default: 4,\n    },\n    height: {\n      type: [Number, String],\n      default: 80,\n    },\n    itemWidth: {\n      type: Number,\n      default: 120,\n    },\n    pauseOnHover: {\n      type: Boolean,\n      default: true,\n    },\n    timingFunction: {\n      type: String,\n      default: 'ease',\n    },\n    arrowVisible: {\n      type: String,\n      validator: (i: string) => ['default', 'always'].includes(i),\n      default: 'default',\n    },\n  },\n  setup(props, context) {\n    const viewportDOMRef = ref<null | HTMLElement>(null)\n\n    const items = ref<CarouselItem[]>([])\n    const addItem = (item: CarouselItem) => items.value.push(item)\n    const removeItem = (uid: ComponentUid) => {\n      const index = items.value.findIndex(item => item.uid === uid)\n      if (index !== -1)\n        items.value.splice(index, 1)\n    }\n    // layout\n    const viewportWidth = ref(0)\n    const layout: ComputedRef<CarouselLayout> = computed(() => {\n      const gapWidth\n        = (viewportWidth.value - props.itemWidth * props.displayAmount)\n        / (props.displayAmount - 1)\n      const itemBlockWidth = gapWidth + props.itemWidth\n      return {\n        isStatic: items.value.length <= props.displayAmount,\n        gapWidth,\n        viewportWidth: viewportWidth.value,\n        itemWidth: props.itemWidth,\n        itemBlockWidth,\n        prependPosition: -1 * itemBlockWidth,\n        appendPostion: viewportWidth.value + gapWidth,\n      }\n    })\n\n    // index\n    const activeIndex = ref(0)\n    const isLastIndex = computed(\n      () => activeIndex.value + props.displayAmount === items.value.length,\n    )\n    const isFirstIndex = computed(() => activeIndex.value === 0)\n    const isNeedReset = computed(\n      () => props.displayAmount + 2 >= items.value.length,\n    )\n    const reset = reactive<CarouselReset>({\n      resetting: false,\n      action: 'next',\n    })\n\n    const stag = computed(() => {\n      const index = activeIndex.value\n      const list = items.value\n      const endIndex = list.length - 1\n\n      const stagUids = Array.from({ length: props.displayAmount }).map(\n        (v, offset) => list[(index + offset) % list.length]?.uid,\n      )\n\n      const result = {\n        prependUid: list[isFirstIndex.value ? endIndex : index - 1]?.uid,\n        stagUids,\n        appendUid: list[(index + props.displayAmount) % list.length]?.uid,\n      }\n      if (result.prependUid === result.appendUid) {\n        const invalidUid = -1\n        if (reset.action === 'prev')\n          result.prependUid = invalidUid\n\n        if (reset.action === 'next')\n          result.appendUid = invalidUid\n      }\n      return result\n    })\n    const refsProps = toRefs(props)\n    provide<InjectCarouselScope>('injectCarouselScope', {\n      speed: refsProps.speed,\n      timingFunction: refsProps.timingFunction,\n      stag,\n      reset,\n      addItem,\n      removeItem,\n      layout,\n    })\n\n    // arrow\n    const isLeftArrowVisiable = computed(() => {\n      if (props.arrowVisible === 'default') {\n        if (layout.value.isStatic)\n          return false\n\n        if (isFirstIndex.value && !props.loop)\n          return false\n      }\n      return true\n    })\n    const isRightArrowVisiable = computed(() => {\n      if (props.arrowVisible === 'default') {\n        if (layout.value.isStatic)\n          return false\n\n        if (isLastIndex.value && !props.loop)\n          return false\n      }\n      return true\n    })\n\n    // play method\n    const slide = (action: CarouselReset['action']) => {\n      if (layout.value.isStatic)\n        return\n      if (!props.loop) {\n        if (action === 'next' && isLastIndex.value)\n          return\n        if (action === 'prev' && isFirstIndex.value)\n          return\n      }\n\n      const setIndex = () => {\n        if (action === 'next')\n          activeIndex.value = (activeIndex.value + 1) % items.value.length\n\n        if (action === 'prev') {\n          activeIndex.value = isFirstIndex.value\n            ? items.value.length - 1\n            : activeIndex.value - 1\n        }\n      }\n\n      if (!isNeedReset.value) {\n        setIndex()\n        return\n      }\n\n      reset.resetting = true\n      reset.action = action\n      requestAnimationFrame(() => {\n        // this frame setting edge item position\n        requestAnimationFrame(() => {\n          reset.resetting = false\n          setIndex()\n        })\n      })\n    }\n    let timer: ReturnType<typeof setTimeout>\n    const next = () => {\n      clearTimeout(timer)\n      slide('next')\n      if (props.autoplay)\n        timer = setTimeout(() => next(), props.interval)\n    }\n    const prev = () => {\n      clearTimeout(timer)\n      slide('prev')\n      if (props.autoplay)\n        timer = setTimeout(() => prev(), props.interval)\n    }\n    const enter = () => {\n      if (props.autoplay && props.pauseOnHover)\n        clearTimeout(timer)\n    }\n    const leave = () => {\n      if (props.autoplay && props.pauseOnHover) {\n        clearTimeout(timer)\n        timer = setTimeout(() => next(), props.interval)\n      }\n    }\n\n    // autoplay\n    watch(\n      () => props.autoplay,\n      (autoplay) => {\n        if (autoplay)\n          timer = setTimeout(() => next(), props.interval)\n        else\n          clearTimeout(timer)\n      },\n    )\n    const handlePageVisiblityChange = () => {\n      if (document.visibilityState === 'hidden')\n        clearTimeout(timer)\n\n      if (document.visibilityState === 'visible' && props.autoplay)\n        timer = setTimeout(() => next(), props.interval)\n    }\n\n    // init layout,handle page visibility\n    onMounted(() => {\n      nextTick(() => {\n        if (viewportDOMRef.value !== null)\n          viewportWidth.value = viewportDOMRef.value.clientWidth\n\n        if (props.autoplay)\n          timer = setTimeout(() => next(), props.interval)\n\n        document.addEventListener(\n          'visibilitychange',\n          handlePageVisiblityChange,\n        )\n      })\n    })\n    onUnmounted(() => {\n      clearTimeout(timer)\n\n      document.removeEventListener(\n        'visibilitychange',\n        handlePageVisiblityChange,\n      )\n    })\n\n    return {\n      prev,\n      next,\n      enter,\n      leave,\n      layout,\n      viewportDOMRef,\n      hasLeftSlot: context.slots.left !== undefined,\n      hasRightSlot: context.slots.right !== undefined,\n      isLeftArrowVisiable,\n      isRightArrowVisiable,\n    }\n  },\n})\n</script>\n\n<template>\n  <div\n    class=\"split-carousel\"\n    :style=\"{\n      height: `${typeof height === 'string' ? height : `${height}px`}`,\n    }\"\n  >\n    <div class=\"split-carousel__left\" @click=\"prev\">\n      <div v-show=\"isLeftArrowVisiable\">\n        <slot v-if=\"hasLeftSlot\" name=\"left\" />\n        <button v-else class=\"split-carousel__left-button\">\n          <div class=\"arrow left\" />\n        </button>\n      </div>\n    </div>\n    <div\n      ref=\"viewportDOMRef\"\n      class=\"split-carousel__viewport\"\n      :class=\"{ 'split-carousel__viewport--static': layout.isStatic }\"\n      @mouseenter=\"enter\"\n      @mouseleave=\"leave\"\n    >\n      <slot />\n    </div>\n    <div class=\"split-carousel__right\" @click=\"next\">\n      <div v-show=\"isRightArrowVisiable\">\n        <slot v-if=\"hasRightSlot\" name=\"right\" />\n        <button v-else class=\"split-carousel__right-button\">\n          <div class=\"arrow right\" />\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.split-carousel {\n  display: flex;\n  width: 100%;\n  align-items: center;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  &__viewport {\n    flex-grow: 1;\n    overflow: hidden;\n    align-self: stretch;\n    position: relative;\n    &--static {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      :deep(.split-carousel__item) {\n        align-self: stretch;\n      }\n    }\n  }\n  &__left,\n  &__right {\n    align-self: center;\n    padding: 5px;\n  }\n  &__left-button,\n  &__right-button {\n    height: 30px;\n    width: 30px;\n    text-align: center;\n    line-height: 30px;\n    border: 1px solid #dcdfe6;\n    border-radius: 50%;\n    cursor: pointer;\n    background-color: #fff;\n    transition: border-color, background-color 0.15s;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    &:hover {\n      border-color: #c6e2ff;\n      background-color: #ecf5ff;\n      .arrow {\n        border-top-color: #c6e2ff;\n        border-left-color: #c6e2ff;\n      }\n    }\n  }\n}\n.arrow {\n  height: 6px;\n  width: 6px;\n  border: 2px solid;\n  transition: border-color 0.15s;\n  border-top-color: #dcdfe6;\n  border-left-color: #dcdfe6;\n  border-right-color: transparent;\n  border-bottom-color: transparent;\n  &.left {\n    transform: translateX(2px) rotate(-45deg);\n  }\n  &.right {\n    transform: translateX(-2px) rotate(135deg);\n  }\n}\n</style>\n","<script lang=\"ts\">\nimport type { ComponentInternalInstance } from 'vue-demi'\nimport {\n  computed,\n  defineComponent,\n  getCurrentInstance,\n  inject,\n  onMounted,\n  onUnmounted,\n  ref,\n} from 'vue-demi'\nimport type { ComponentStyle, InjectCarouselScope } from './carousel'\n\nexport default defineComponent({\n  name: 'SplitCarouselItem',\n  setup() {\n    const instance = getCurrentInstance() as ComponentInternalInstance\n    const injectCarouselScope: InjectCarouselScope = inject(\n      'injectCarouselScope',\n    ) as InjectCarouselScope\n    const isMounted = ref(false)\n\n    if (!instance || !injectCarouselScope)\n      throw new Error('SplitCarouselItem Must include by SplitCarousel')\n\n    const { layout, stag, reset, addItem, removeItem } = injectCarouselScope\n    // register/unregister\n    onMounted(() => {\n      addItem({ uid: instance.uid })\n      requestAnimationFrame(() => {\n        requestAnimationFrame(() => {\n          isMounted.value = true\n        })\n      })\n    })\n    onUnmounted(() => {\n      removeItem(instance.uid)\n    })\n\n    // itemStyle\n    const isPrepend = computed(() => instance.uid === stag.value.prependUid)\n    const isAppend = computed(() => instance.uid === stag.value.appendUid)\n    const stagIndex = computed(() => {\n      return stag.value.stagUids.findIndex(uid => uid === instance.uid)\n    })\n\n    const inStag = computed(() => stagIndex.value !== -1)\n    const noAnimate = computed(() => {\n      if (!isMounted.value)\n        return true\n\n      if (reset.resetting)\n        return true\n\n      return false\n    })\n\n    const itemStyle = computed(() => {\n      const {\n        itemWidth,\n        isStatic,\n        itemBlockWidth,\n        appendPostion,\n        prependPosition,\n      } = layout.value\n\n      let style: ComponentStyle = {\n        width: `${itemWidth}px`,\n        transitionDuration: `${noAnimate.value ? 0 : injectCarouselScope.speed.value\n          }ms`,\n        transitionTimingFunction: injectCarouselScope.timingFunction.value,\n      }\n\n      if (isStatic) {\n        style.display = 'block'\n        return style\n      }\n\n      if (inStag.value) {\n        style = {\n          ...style,\n          display: 'block',\n          transform: `translateX(${stagIndex.value * itemBlockWidth}px)`,\n        }\n      }\n      if (isPrepend.value) {\n        const needReset = reset.resetting && reset.action === 'next'\n        style = {\n          ...style,\n          display: 'block',\n          transform: `translateX(${needReset ? appendPostion : prependPosition\n            }px)`,\n        }\n      }\n      if (isAppend.value) {\n        const needReset = reset.resetting && reset.action === 'prev'\n        style = {\n          ...style,\n          display: 'block',\n          transform: `translateX(${needReset ? prependPosition : appendPostion\n            }px)`,\n        }\n      }\n\n      return style\n    })\n\n    return {\n      itemStyle,\n      layout,\n    }\n  },\n})\n</script>\n\n<template>\n  <div class=\"split-carousel__item\" :class=\"{ 'split-carousel__item--transition': !layout.isStatic }\" :style=\"itemStyle\">\n    <slot />\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.split-carousel__item {\n  display: none;\n  transition-property: transform;\n  will-change: transfrom;\n\n  &--transition {\n    position: absolute;\n    left: 0;\n    top: 0;\n    height: 100%;\n  }\n\n  &--stag {\n    display: block;\n  }\n}\n</style>\n","import type { App } from 'vue';\nimport SplitCarousel from './components/SplitCarousel.vue';\nimport SplitCarouselItem from './components/SplitCarouselItem.vue';\n\ninterface SplitCarouselOption {\n  prefix: string;\n}\n\nconst install = (app: App, option?: SplitCarouselOption): void => {\n  const prefix = option?.prefix || '';\n  app.component(`${prefix}SplitCarousel`, SplitCarousel);\n  app.component(`${prefix}SplitCarouselItem`, SplitCarouselItem);\n};\n\nexport { SplitCarousel, SplitCarouselItem, install };\n"],"names":["_sfc_main$1","defineComponent","i","props","context","viewportDOMRef","ref","items","addItem","item","removeItem","uid","index","viewportWidth","layout","computed","gapWidth","itemBlockWidth","activeIndex","isLastIndex","isFirstIndex","isNeedReset","reset","reactive","stag","list","endIndex","stagUids","v","offset","_a","result","_b","refsProps","toRefs","provide","isLeftArrowVisiable","isRightArrowVisiable","slide","action","setIndex","timer","next","prev","enter","leave","watch","autoplay","handlePageVisiblityChange","onMounted","nextTick","onUnmounted","_hoisted_1","_withScopeId","_createElementVNode","_hoisted_4","_sfc_render","_ctx","_cache","$props","$setup","$data","$options","_openBlock","_createElementBlock","args","_renderSlot","_hoisted_3","_normalizeClass","_hoisted_6","_sfc_main","instance","getCurrentInstance","injectCarouselScope","inject","isMounted","isPrepend","isAppend","stagIndex","inStag","noAnimate","itemWidth","isStatic","appendPostion","prependPosition","style","needReset","_normalizeStyle","install","app","option","prefix","SplitCarousel","SplitCarouselItem"],"mappings":"qQAsBA,MAAAA,EAAeC,kBAAgB,CAC7B,KAAM,gBACN,MAAO,CACL,SAAU,CACR,KAAM,QACN,QAAS,EACX,EACA,MAAO,CACL,KAAM,OACN,QAAS,GACX,EACA,SAAU,CACR,KAAM,OACN,QAAS,GACX,EACA,KAAM,CACJ,KAAM,QACN,QAAS,EACX,EACA,cAAe,CACb,KAAM,OACN,QAAS,CACX,EACA,OAAQ,CACN,KAAM,CAAC,OAAQ,MAAM,EACrB,QAAS,EACX,EACA,UAAW,CACT,KAAM,OACN,QAAS,GACX,EACA,aAAc,CACZ,KAAM,QACN,QAAS,EACX,EACA,eAAgB,CACd,KAAM,OACN,QAAS,MACX,EACA,aAAc,CACZ,KAAM,OACN,UAAYC,GAAc,CAAC,UAAW,QAAQ,EAAE,SAASA,CAAC,EAC1D,QAAS,SACX,CACF,EACA,MAAMC,EAAOC,EAAS,CACd,MAAAC,EAAiBC,MAAwB,IAAI,EAE7CC,EAAQD,MAAoB,CAAA,CAAE,EAC9BE,EAAWC,GAAuBF,EAAM,MAAM,KAAKE,CAAI,EACvDC,EAAcC,GAAsB,CACxC,MAAMC,EAAQL,EAAM,MAAM,UAAkBE,GAAAA,EAAK,MAAQE,CAAG,EACxDC,IAAU,IACNL,EAAA,MAAM,OAAOK,EAAO,CAAC,CAAA,EAGzBC,EAAgBP,MAAI,CAAC,EACrBQ,EAAsCC,EAAAA,SAAS,IAAM,CACnD,MAAAC,GACDH,EAAc,MAAQV,EAAM,UAAYA,EAAM,gBAC9CA,EAAM,cAAgB,GACrBc,EAAiBD,EAAWb,EAAM,UACjC,MAAA,CACL,SAAUI,EAAM,MAAM,QAAUJ,EAAM,cACtC,SAAAa,EACA,cAAeH,EAAc,MAC7B,UAAWV,EAAM,UACjB,eAAAc,EACA,gBAAiB,GAAKA,EACtB,cAAeJ,EAAc,MAAQG,CAAA,CACvC,CACD,EAGKE,EAAcZ,MAAI,CAAC,EACnBa,EAAcJ,EAAA,SAClB,IAAMG,EAAY,MAAQf,EAAM,gBAAkBI,EAAM,MAAM,MAAA,EAE1Da,EAAeL,EAAAA,SAAS,IAAMG,EAAY,QAAU,CAAC,EACrDG,EAAcN,EAAA,SAClB,IAAMZ,EAAM,cAAgB,GAAKI,EAAM,MAAM,MAAA,EAEzCe,EAAQC,EAAAA,SAAwB,CACpC,UAAW,GACX,OAAQ,MAAA,CACT,EAEKC,EAAOT,EAAAA,SAAS,IAAM,SAC1B,MAAMH,EAAQM,EAAY,MACpBO,EAAOlB,EAAM,MACbmB,EAAWD,EAAK,OAAS,EAEzBE,EAAW,MAAM,KAAK,CAAE,OAAQxB,EAAM,aAAe,CAAA,EAAE,IAC3D,CAACyB,EAAGC,IAAW,OAAA,OAAAC,EAAAL,GAAMb,EAAQiB,GAAUJ,EAAK,MAAM,IAAnC,YAAAK,EAAsC,IAAA,EAGjDC,EAAS,CACb,YAAYD,EAAAL,EAAKL,EAAa,MAAQM,EAAWd,EAAQ,CAAC,IAA9C,YAAAkB,EAAiD,IAC7D,SAAAH,EACA,WAAWK,EAAAP,GAAMb,EAAQT,EAAM,eAAiBsB,EAAK,MAAM,IAAhD,YAAAO,EAAmD,GAAA,EAE5D,OAAAD,EAAO,aAAeA,EAAO,YAE3BT,EAAM,SAAW,SACnBS,EAAO,WAAa,IAElBT,EAAM,SAAW,SACnBS,EAAO,UAAY,KAEhBA,CAAA,CACR,EACKE,EAAYC,SAAO/B,CAAK,EAC9BgC,EAAAA,QAA6B,sBAAuB,CAClD,MAAOF,EAAU,MACjB,eAAgBA,EAAU,eAC1B,KAAAT,EACA,MAAAF,EACA,QAAAd,EACA,WAAAE,EACA,OAAAI,CAAA,CACD,EAGK,MAAAsB,EAAsBrB,EAAAA,SAAS,IAC/B,EAAAZ,EAAM,eAAiB,YACrBW,EAAO,MAAM,UAGbM,EAAa,OAAS,CAACjB,EAAM,MAIpC,EACKkC,EAAuBtB,EAAAA,SAAS,IAChC,EAAAZ,EAAM,eAAiB,YACrBW,EAAO,MAAM,UAGbK,EAAY,OAAS,CAAChB,EAAM,MAInC,EAGKmC,EAASC,GAAoC,CAG7C,GAFAzB,EAAO,MAAM,UAEb,CAACX,EAAM,OACLoC,IAAW,QAAUpB,EAAY,OAEjCoB,IAAW,QAAUnB,EAAa,OACpC,OAGJ,MAAMoB,EAAW,IAAM,CACjBD,IAAW,SACbrB,EAAY,OAASA,EAAY,MAAQ,GAAKX,EAAM,MAAM,QAExDgC,IAAW,SACDrB,EAAA,MAAQE,EAAa,MAC7Bb,EAAM,MAAM,OAAS,EACrBW,EAAY,MAAQ,EAC1B,EAGE,GAAA,CAACG,EAAY,MAAO,CACbmB,IACT,OAGFlB,EAAM,UAAY,GAClBA,EAAM,OAASiB,EACf,sBAAsB,IAAM,CAE1B,sBAAsB,IAAM,CAC1BjB,EAAM,UAAY,GACTkB,GAAA,CACV,CAAA,CACF,CAAA,EAEC,IAAAC,EACJ,MAAMC,EAAO,IAAM,CACjB,aAAaD,CAAK,EAClBH,EAAM,MAAM,EACRnC,EAAM,WACRsC,EAAQ,WAAW,IAAMC,EAAK,EAAGvC,EAAM,QAAQ,EAAA,EAE7CwC,EAAO,IAAM,CACjB,aAAaF,CAAK,EAClBH,EAAM,MAAM,EACRnC,EAAM,WACRsC,EAAQ,WAAW,IAAME,EAAK,EAAGxC,EAAM,QAAQ,EAAA,EAE7CyC,EAAQ,IAAM,CACdzC,EAAM,UAAYA,EAAM,cAC1B,aAAasC,CAAK,CAAA,EAEhBI,EAAQ,IAAM,CACd1C,EAAM,UAAYA,EAAM,eAC1B,aAAasC,CAAK,EAClBA,EAAQ,WAAW,IAAMC,EAAK,EAAGvC,EAAM,QAAQ,EACjD,EAIF2C,EAAA,MACE,IAAM3C,EAAM,SACX4C,GAAa,CACRA,EACFN,EAAQ,WAAW,IAAMC,EAAK,EAAGvC,EAAM,QAAQ,EAE/C,aAAasC,CAAK,CACtB,CAAA,EAEF,MAAMO,EAA4B,IAAM,CAClC,SAAS,kBAAoB,UAC/B,aAAaP,CAAK,EAEhB,SAAS,kBAAoB,WAAatC,EAAM,WAClDsC,EAAQ,WAAW,IAAMC,EAAK,EAAGvC,EAAM,QAAQ,EAAA,EAInD8C,OAAAA,EAAAA,UAAU,IAAM,CACdC,EAAAA,SAAS,IAAM,CACT7C,EAAe,QAAU,OACbQ,EAAA,MAAQR,EAAe,MAAM,aAEzCF,EAAM,WACRsC,EAAQ,WAAW,IAAMC,EAAK,EAAGvC,EAAM,QAAQ,GAExC,SAAA,iBACP,mBACA6C,CAAA,CACF,CACD,CAAA,CACF,EACDG,EAAAA,YAAY,IAAM,CAChB,aAAaV,CAAK,EAET,SAAA,oBACP,mBACAO,CAAA,CACF,CACD,EAEM,CACL,KAAAL,EACA,KAAAD,EACA,MAAAE,EACA,MAAAC,EACA,OAAA/B,EACA,eAAAT,EACA,YAAaD,EAAQ,MAAM,OAAS,OACpC,aAAcA,EAAQ,MAAM,QAAU,OACtC,oBAAAgC,EACA,qBAAAC,CAAA,CAEJ,CACF,CAAC,2IAasBe,EAAM,CAAA,IAAA,0CACOC,EAAA,IAAAC,EAAA,mBAAA,MAAA,CAAA,MAAA,cAAA,KAAA,EAAA,CAAA,GAgBbC,EAAM,CAAA,IAAA,2CACQF,EAAA,IAAAC,EAAA,mBAAA,MAAA,CAAA,MAAA,eAAA,KAAA,EAAA,CAAA,GA1B5B,SAAAE,EAACC,EAAgBC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,CAChB,OAAAC,EAAA,UAAA,EAAAC,EAAA,mBAAA,MAAA,CAAA,MAAA,uGAIN,CAAA,CAAA,EAAA,CAAwCV,EAAAA,mBAAA,MAAA,CAAA,MAAA,iCACtC,CAKM,IAAAI,EAAA,CAAA,EAAA,IAAAO,IAAAR,EAAA,MAAAA,EAAA,KAAA,GAAAQ,CAAA,EAAA,EAAA,kBAJJX,EAAAA,mBAAuC,MAAA,KAAA,CAAAG,EAAA,YAAAS,aAAAT,EAAA,OAAA,OAAA,CAAA,IAAA,CAAA,EAAA,OAAA,EAAA,GAAAM,YADT,EAAAC,EAAA,mBAAA,SAAAZ,EAAAe,CAAA,EAAA,EAAA,GAAA,EAAA,gCAOlC,CAAA,CAAA,CAAA,uBAEO,MAAC,CAEL,IAAA,iBACA,MAAAC,EAAAA,eAAU,6BAAE,mCAAKX,EAAA,OAAA,QAAA,CAAA,CAAA,EAAA,aAAAC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,IAAAO,IAAAR,EAAA,OAAAA,EAAA,MAAA,GAAAQ,CAAA,GAElB,aAAQP,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,IAAAO,IAAAR,EAAA,OAAAA,EAAA,MAAA,GAAAQ,CAAA,EAAA,EAAA,CAEVC,EAOM,WAAAT,EAAA,OAAA,UAAA,CAAA,EAAA,OAAA,EAAA,CAPD,EAAA,EAAA,EAAoCH,EAAAA,mBAAA,MAAA,CAAA,MAAA,kCACvC,CAKM,IAAAI,EAAA,CAAA,EAAA,IAAAO,IAAAR,EAAA,MAAAA,EAAA,KAAA,GAAAQ,CAAA,EAAA,EAAA,kBAJJX,EAAAA,mBAAyC,MAAA,KAAA,CAAAG,EAAA,aAAAS,aAAAT,EAAA,OAAA,QAAA,CAAA,IAAA,CAAA,EAAA,OAAA,EAAA,GAAAM,YADV,EAAAC,EAAA,mBAAA,SAAAT,EAAAc,CAAA,EAAA,EAAA,GAAA,EAAA,sGCzSvCC,EAAerE,kBAAgB,CAC7B,KAAM,oBACN,OAAQ,CACN,MAAMsE,EAAWC,EAAAA,qBACXC,EAA2CC,EAAA,OAC/C,qBAAA,EAEIC,EAAYrE,MAAI,EAAK,EAEvB,GAAA,CAACiE,GAAY,CAACE,EACV,MAAA,IAAI,MAAM,iDAAiD,EAEnE,KAAM,CAAE,OAAA3D,EAAQ,KAAAU,EAAM,MAAAF,EAAO,QAAAd,EAAS,WAAAE,CAAe,EAAA+D,EAErDxB,EAAAA,UAAU,IAAM,CACdzC,EAAQ,CAAE,IAAK+D,EAAS,GAAK,CAAA,EAC7B,sBAAsB,IAAM,CAC1B,sBAAsB,IAAM,CAC1BI,EAAU,MAAQ,EAAA,CACnB,CAAA,CACF,CAAA,CACF,EACDxB,EAAAA,YAAY,IAAM,CAChBzC,EAAW6D,EAAS,GAAG,CAAA,CACxB,EAGD,MAAMK,EAAY7D,EAAS,SAAA,IAAMwD,EAAS,MAAQ/C,EAAK,MAAM,UAAU,EACjEqD,EAAW9D,EAAS,SAAA,IAAMwD,EAAS,MAAQ/C,EAAK,MAAM,SAAS,EAC/DsD,EAAY/D,EAAAA,SAAS,IAClBS,EAAK,MAAM,SAAS,UAAiBb,GAAAA,IAAQ4D,EAAS,GAAG,CACjE,EAEKQ,EAAShE,EAAAA,SAAS,IAAM+D,EAAU,QAAU,EAAE,EAC9CE,EAAYjE,EAAAA,SAAS,IACrB,IAAC4D,EAAU,OAGXrD,EAAM,UAIX,EAoDM,MAAA,CACL,UAnDgBP,EAAAA,SAAS,IAAM,CACzB,KAAA,CACJ,UAAAkE,EACA,SAAAC,EACA,eAAAjE,EACA,cAAAkE,EACA,gBAAAC,CAAA,EACEtE,EAAO,MAEX,IAAIuE,EAAwB,CAC1B,MAAO,GAAGJ,MACV,mBAAoB,GAAGD,EAAU,MAAQ,EAAIP,EAAoB,MAAM,UAEvE,yBAA0BA,EAAoB,eAAe,KAAA,EAG/D,GAAIS,EACF,OAAAG,EAAM,QAAU,QACTA,EAUT,GAPIN,EAAO,QACDM,EAAA,CACN,GAAGA,EACH,QAAS,QACT,UAAW,cAAcP,EAAU,MAAQ7D,MAAA,GAG3C2D,EAAU,MAAO,CACnB,MAAMU,EAAYhE,EAAM,WAAaA,EAAM,SAAW,OAC9C+D,EAAA,CACN,GAAGA,EACH,QAAS,QACT,UAAW,cAAcC,EAAYH,EAAgBC,MAAA,EAIzD,GAAIP,EAAS,MAAO,CAClB,MAAMS,EAAYhE,EAAM,WAAaA,EAAM,SAAW,OAC9C+D,EAAA,CACN,GAAGA,EACH,QAAS,QACT,UAAW,cAAcC,EAAYF,EAAkBD,MAAA,EAKpD,OAAAE,CAAA,CACR,EAIC,OAAAvE,CAAA,CAEJ,CACF,CAAC,OAIW,SAAA0C,EAAAC,EAAAC,EAACC,EAAsBC,EAAAC,EAAAC,EAAA,QAAyEC,EAAW,UAAA,EAAAC,EAAA,mBAAA,MAAA,CAAA,MAAAI,EAAAA,eAAA,CAAA,uBAAA,CAAA,mCAAA,CAAAX,EAAA,OAAA,QAAA,CAAA,CAAA,EACnH,MAAQ8B,EAAAA,eAAA9B,EAAA,SAAA,CAAA,EAAA,+GC7GN+B,EAAU,CAACC,EAAUC,IAAuC,CAC1D,MAAAC,GAASD,GAAA,YAAAA,EAAQ,SAAU,GAC7BD,EAAA,UAAU,GAAGE,iBAAuBC,CAAa,EACjDH,EAAA,UAAU,GAAGE,qBAA2BE,CAAiB,CAC/D"}